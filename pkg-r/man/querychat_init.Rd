% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/querychat.R
\name{querychat_init}
\alias{querychat_init}
\title{Call this once outside of any server function}
\usage{
querychat_init(
  data_source,
  greeting = NULL,
  data_description = NULL,
  extra_instructions = NULL,
  create_chat_func = purrr::partial(ellmer::chat_openai, model = "gpt-4o"),
  system_prompt = NULL
)
}
\arguments{
\item{data_source}{A querychat_data_source object created by \code{querychat_data_source()}.
To create a data source:
\itemize{
\item For data frame: \code{querychat_data_source(df, tbl_name = "my_table")}
\item For database: \code{querychat_data_source(conn, "table_name")}
}}

\item{greeting}{A string in Markdown format, containing the initial message
to display to the user upon first loading the chatbot. If not provided, the
LLM will be invoked at the start of the conversation to generate one.}

\item{data_description}{A string in plain text or Markdown format, containing
a description of the data frame or any additional context that might be
helpful in understanding the data. This will be included in the system
prompt for the chat model. If a \code{system_prompt} argument is provided, the
\code{data_description} argument will be ignored.}

\item{extra_instructions}{A string in plain text or Markdown format, containing
any additional instructions for the chat model. These will be appended at
the end of the system prompt. If a \code{system_prompt} argument is provided,
the \code{extra_instructions} argument will be ignored.}

\item{create_chat_func}{A function that takes a system prompt and returns a
chat object. The default uses \code{ellmer::chat_openai()}.}

\item{system_prompt}{A string containing the system prompt for the chat model.
The default uses \code{create_system_prompt()} to generate a generic prompt,
which you can enhance via the \code{data_description} and \code{extra_instructions}
arguments.}
}
\value{
An object that can be passed to \code{querychat_server()} as the
\code{querychat_config} argument. By convention, this object should be named
\code{querychat_config}.
}
\description{
This will perform one-time initialization that can then be shared by all
Shiny sessions in the R process.
}
